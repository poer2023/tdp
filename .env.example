# PostgreSQL 数据库连接
DATABASE_URL=postgresql://tdp:tdp_password@postgres:5432/tdp?schema=public

# NextAuth 配置
NEXTAUTH_URL=http://localhost:3000
NEXTAUTH_SECRET=请替换为长度>=32的随机值

# Google OAuth 凭据
GOOGLE_CLIENT_ID=填入你的ID
GOOGLE_CLIENT_SECRET=填入你的密钥

# 上传限制配置
MAX_UPLOAD_SIZE_MB=8

# 管理员邮箱白名单（逗号分隔，这些邮箱登录时会自动成为管理员）
# 示例: ADMIN_EMAILS=admin1@example.com,admin2@example.com
ADMIN_EMAILS=your-email@example.com

# ============================================================================
# Media Sync Configuration (Bilibili & Douban)
# ============================================================================

# B站认证 Cookie（从浏览器开发者工具获取）
# 1. 登录 https://www.bilibili.com
# 2. 打开开发者工具 (F12) → Application/存储 → Cookies
# 3. 复制以下三个值：
BILIBILI_SESSDATA=your_sessdata_here
BILIBILI_BILI_JCT=your_bili_jct_here
BILIBILI_BUVID3=your_buvid3_here

# 豆瓣配置
# 1. 访问你的豆瓣主页: https://www.douban.com/people/me/
# 2. 地址栏中的 ID 就是你的用户 ID
DOUBAN_USER_ID=your_douban_user_id
# 豆瓣 Cookie（必需 - 用于获取完整观影记录）
# 如果你的账号设置了隐私保护，必须配置 Cookie 才能获取完整数据
# 格式: dbcl2="你的cookie值" (保留引号)
# 详细教程: docs/GET_DOUBAN_COOKIE.md
DOUBAN_COOKIE=dbcl2="your_dbcl2_value_here"

# 同步任务调度 (Cron 表达式)
# 默认: 每 3 小时同步一次
# 格式: 分 时 日 月 周
# 示例:
#   0 */3 * * * - 每 3 小时
#   0 0 */6 * * - 每 6 小时
#   0 2 * * *   - 每天凌晨 2 点
SYNC_CRON_SCHEDULE=0 */3 * * *

# ============================================================================
# Gaming Data Configuration (Steam & HoYoverse)
# ============================================================================

# Steam API 配置
# 1. 获取 Steam API Key: https://steamcommunity.com/dev/apikey
# 2. 获取 Steam ID (64位): https://steamid.io/
STEAM_API_KEY=your_steam_api_key_here
STEAM_USER_ID=your_steam_64bit_id_here

# HoYoverse / 绝区零配置
# 1. 登录 https://www.hoyolab.com
# 2. 打开开发者工具 (F12) → Application/存储 → Cookies
# 3. 复制 Cookie 字符串 (包含 ltoken, ltuid 等)
# 格式示例: ltoken=xxx; ltuid=xxx; cookie_token=xxx
HOYO_COOKIE=your_hoyolab_cookie_here
# 绝区零游戏 UID (在游戏内查看)
HOYO_UID=your_zzz_uid_here
# 服务器区域: cn_gf01 (国服) / os_asia (亚服) / os_usa (美服) / os_euro (欧服)
HOYO_REGION=cn_gf01

# Admin API 密钥 (用于手动触发同步)
# 生成随机密钥: openssl rand -hex 32
ADMIN_API_KEY=your_random_admin_api_key_here

# ============================================================================
# Infrastructure Monitoring (Uptime Kuma)
# ============================================================================

# Uptime Kuma 监控服务配置
# 1. 独立部署 Uptime Kuma 服务 (Docker)
# 2. 在 Uptime Kuma 中配置监控项
# 3. 配置以下环境变量以集成监控数据

# Uptime Kuma API 地址 (内部调用，用于数据同步)
# 格式: http://your-uptime-kuma-server:port
UPTIME_KUMA_URL=http://localhost:3001

# Uptime Kuma API 密钥
# 在 Uptime Kuma 的 Settings → API Keys 中创建
UPTIME_KUMA_API_KEY=your_uptime_kuma_api_key_here

# Uptime Kuma 管理界面地址 (公开访问，用于 Admin 跳转)
# 格式: https://your-uptime-kuma-domain.com
NEXT_PUBLIC_UPTIME_KUMA_URL=https://status.example.com

# 监控数据同步频率 (Cron 表达式)
# 默认: 每 5 分钟同步一次
# 示例:
#   */5 * * * * - 每 5 分钟
#   */1 * * * * - 每 1 分钟
#   0 * * * *   - 每小时
MONITOR_SYNC_CRON_SCHEDULE=*/5 * * * *

# ============================================================================
# GitHub Integration (Admin Panel Managed)
# ============================================================================

# GitHub 开发者活动数据通过 Admin 后台管理凭据
# 不需要在此配置环境变量，而是通过管理端添加 GitHub Personal Access Token
#
# 配置步骤:
# 1. 获取 GitHub Personal Access Token:
#    - 访问 https://github.com/settings/tokens
#    - 点击 "Generate new token (classic)"
#    - 勾选以下权限: public_repo, read:user, read:org
#    - 生成 Token 并复制
# 2. 在 Admin 后台添加凭据:
#    - 访问 /admin/credentials
#    - 平台选择: GitHub
#    - 类型选择: Personal Access Token
#    - 粘贴 Token 并保存
# 3. 系统会自动验证 Token 并获取开发者活动数据

# ============================================================================
# Feature Flags (功能开关)
# ============================================================================

# 控制新功能的上线与回滚,避免部署整个代码库
# 值: on|true|1 (启用) / off|false|0 (禁用,默认)
# 详细文档: docs/modular-development-playbook.md

# 管理端凭据管理功能
# 启用后可在后台管理外部平台凭据 (Steam, Bilibili, Douban 等)
FEATURE_ADMIN_CREDENTIALS=off

# 管理端访问分析功能
# 启用后展示访问量、访客及热门页面统计
FEATURE_ADMIN_ANALYTICS=off

# 管理端相册管理功能
# 启用后加载照片上传与管理工具
FEATURE_ADMIN_GALLERY=off

# 管理端文章管理功能
# 控制文章列表、编辑页、创建页
FEATURE_ADMIN_POSTS=off

# 同步仪表板与任务管理
FEATURE_ADMIN_SYNC=off

# 内容导出工具
FEATURE_ADMIN_EXPORT=off

# 管理端仪表盘统计功能
# 启用后显示内容统计和最近活动
FEATURE_ADMIN_DASHBOARD=off

# 图库洞察和分析功能
# 启用后显示图片上传趋势和热门标签等
FEATURE_GALLERY_INSIGHTS=off
