# Phase 2-4 å•å…ƒæµ‹è¯•å®Œæˆæ€»ç»“

**å®Œæˆæ—¶é—´**: 2025å¹´10æœˆ18æ—¥ 22:57
**çŠ¶æ€**: âœ… **ä¸‰ä¸ªä»»åŠ¡å…¨éƒ¨å®Œæˆ**

---

## ğŸ“‹ ä»»åŠ¡æ¸…å•

### âœ… ä»»åŠ¡1: ä¿®å¤ Cron API æµ‹è¯• (å®Œæˆ)

**åˆå§‹çŠ¶æ€**: 6/14 æµ‹è¯•é€šè¿‡
**å®ŒæˆçŠ¶æ€**: âœ… 14/14 æµ‹è¯•é€šè¿‡ (100%)

#### é—®é¢˜åˆ†æ

1. **ç¼ºå°‘ syncJobs å­—æ®µ**
   - Mock æ•°æ®ç¼ºå°‘ Prisma schema è¦æ±‚çš„ `syncJobs` æ•°ç»„
   - å¯¼è‡´ `route.ts:143` è¡Œè®¿é—® `credential.syncJobs[0]` æ—¶æŠ¥é”™

2. **metadata å­—æ®µé”™è¯¯**
   - æµ‹è¯•å°† steamId æ”¾åœ¨ `value` å­—æ®µ: `value: JSON.stringify({ steamId: "12345" })`
   - å®é™…åº”è¯¥åœ¨ `metadata` å­—æ®µ: `metadata: { steamId: "12345" }`

#### ä¿®å¤æ–¹æ¡ˆ

**ä¿®å¤1: æ·»åŠ  syncJobs å­—æ®µ**
åœ¨ 8 ä¸ªæµ‹è¯•ç”¨ä¾‹çš„ credential mock å¯¹è±¡ä¸­æ·»åŠ  `syncJobs: []`

**ä¿®å¤2: æ­£ç¡®ä½¿ç”¨ metadata å­—æ®µ**
```typescript
// ä¿®å¤å‰
{
  value: JSON.stringify({ steamId: "12345" }),
  // metadata ç¼ºå¤±
}

// ä¿®å¤å
{
  value: "encrypted-credential",
  metadata: { steamId: "12345" },
}
```

#### æµ‹è¯•ç»“æœ

```
âœ“ src/app/api/cron/sync/__tests__/route.test.ts (14 tests)
  âœ“ should reject unauthorized requests without CRON_SECRET
  âœ“ should reject requests with incorrect CRON_SECRET
  âœ“ should accept authorized requests with correct CRON_SECRET
  âœ“ should return empty summary when no credentials with autoSync enabled
  âœ“ should sync credentials due for hourly frequency
  âœ“ should skip credentials synced within hourly threshold
  âœ“ should sync credentials due for daily frequency
  âœ“ should sync credentials due for weekly frequency
  âœ“ should skip credentials with disabled frequency
  âœ“ should sync never-synced credentials
  âœ“ should handle sync failures gracefully
  âœ“ should include execution duration in response
  âœ“ should query credentials with correct filters
  âœ“ should return detailed schedule information for each credential
```

---

## âœ… ä»»åŠ¡2: æ·»åŠ  React ç»„ä»¶æµ‹è¯• (å®Œæˆ)

**ç»„ä»¶æ•°é‡**: 2 ä¸ªç»„ä»¶
**æµ‹è¯•æ•°é‡**: 28 ä¸ªæµ‹è¯• (å…¨éƒ¨é€šè¿‡)

### ç»„ä»¶1: sync-trends-chart.tsx (15 tests âœ…)

**æµ‹è¯•è¦†ç›–**:
- âœ… æ ‡é¢˜å’Œå‰¯æ ‡é¢˜æ¸²æŸ“
- âœ… å›¾è¡¨å®¹å™¨å’Œ ResponsiveContainer
- âœ… æ•°æ®èšåˆé€»è¾‘ (æŒ‰æ—¥æœŸåˆå¹¶å¤šå¹³å°æ•°æ®)
- âœ… ç©ºçŠ¶æ€å¤„ç† ("No trend data available")
- âœ… 30å¤©æ•°æ®é™åˆ¶ (æœ€å¤šæ˜¾ç¤º30å¤©)
- âœ… Success/Failed area æ¸²æŸ“
- âœ… Dark mode æ ·å¼ç±»
- âœ… æ•°æ®æ’åº (æŒ‰æ—¥æœŸå‡åº)
- âœ… è¾¹ç¼˜æƒ…å†µå¤„ç† (0% å’Œ 100% æˆåŠŸç‡)
- âœ… Recharts å…ƒç´  (CartesianGrid, XAxis, YAxis)

**æµ‹è¯•æ–‡ä»¶**: `/src/components/admin/__tests__/sync-trends-chart.test.tsx`

**ä»£ç ç¤ºä¾‹**:
```typescript
it("should show empty state when no data", () => {
  render(<SyncTrendsChart trendData={[]} />);
  expect(screen.getByText(/No trend data available/i)).toBeInTheDocument();
});

it("should limit display to last 30 days", () => {
  const largeTrendData = Array.from({ length: 35 }, (_, i) => ({
    date: new Date(Date.now() - i * 24 * 60 * 60 * 1000),
    platform: "BILIBILI",
    totalJobs: 5,
    successJobs: 4,
    failedJobs: 1,
    successRate: 80,
  }));

  const { container } = render(<SyncTrendsChart trendData={largeTrendData} />);
  expect(container).toBeInTheDocument();
});
```

### ç»„ä»¶2: live-highlights-section.tsx (13 tests âœ…)

**æµ‹è¯•è¦†ç›–**:
- âœ… åŠ è½½çŠ¶æ€éª¨æ¶å±
- âœ… æ•°æ®è·å– (å¹¶è¡Œè°ƒç”¨ä¸¤ä¸ª API)
- âœ… Highlights å¡ç‰‡æ¸²æŸ“
- âœ… åŒæ­¥çŠ¶æ€æŒ‡ç¤ºå™¨ (ç»¿è‰²=æ–°é²œ, é»„è‰²=è¿‡æœŸ)
- âœ… Fresh/Stale é€»è¾‘ (<24h = green, >24h = yellow)
- âœ… ç©ºæ•°æ®ä¼˜é›…å¤„ç†
- âœ… API é”™è¯¯å¤„ç†
- âœ… Dashboard æŒ‰é’®æ¸²æŸ“
- âœ… å¤šè¯­è¨€æ”¯æŒ (English/Chinese)
- âœ… ç¼ºå°‘ lastSyncAt å¤„ç†

**æµ‹è¯•æ–‡ä»¶**: `/src/components/about/__tests__/live-highlights-section.test.tsx`

**å…³é”®æµ‹è¯•**:
```typescript
it("should display fresh sync status with green indicator", async () => {
  const mockSyncStatus = {
    platforms: [
      {
        platform: "bilibili",
        lastSyncAt: new Date(Date.now() - 12 * 60 * 60 * 1000).toISOString(), // 12h ago
        status: "success",
      },
    ],
  };

  const { container } = render(<LiveHighlightsSection locale="en" />);

  await waitFor(() => {
    const greenIndicators = container.querySelectorAll(".bg-green-500");
    expect(greenIndicators.length).toBeGreaterThan(0);
  });
});
```

---

## âœ… ä»»åŠ¡3: åª’ä½“åŒæ­¥æœåŠ¡é›†æˆæµ‹è¯• (å®Œæˆ)

**æµ‹è¯•æ•°é‡**: 7 ä¸ªé›†æˆæµ‹è¯• (å…¨éƒ¨é€šè¿‡)

### æµ‹è¯•è¦†ç›–èŒƒå›´

#### 1. å‡­æ®è§£å¯†é›†æˆ (4 tests)

**Test 1: Bilibili Cookie è§£å¯†å’Œè§£æ**
```typescript
it("should decrypt Bilibili cookies and parse correctly", async () => {
  const plainCookie = "SESSDATA=test123;bili_jct=abc456;buvid3=xyz789";
  const encryptedCookie = encryptCredential(plainCookie);

  // éªŒè¯åŠ å¯†çŠ¶æ€
  expect(isEncrypted(encryptedCookie)).toBe(true);

  // Mock æ•°æ®åº“è¿”å›åŠ å¯†å‡­æ®
  mockPrismaFindMany.mockResolvedValue([
    {
      platform: "BILIBILI",
      value: encryptedCookie,
      isValid: true,
    },
  ]);

  const results = await syncAllPlatforms();

  // éªŒè¯è§£å¯†åæ­£ç¡®è§£æ cookie å­—æ®µ
  expect(mockFetchBilibiliHistory).toHaveBeenCalledWith(
    {
      sessdata: "test123",
      biliJct: "abc456",
      buvid3: "xyz789",
    },
    10
  );
});
```

**Test 2: Douban å‡­æ®è§£å¯†**
- éªŒè¯åŠ å¯†çš„ Douban cookie æ­£ç¡®è§£å¯†
- éªŒè¯ metadata ä¸­çš„ userId æ­£ç¡®æå–

**Test 3: å‘åå…¼å®¹æœªåŠ å¯†å‡­æ®**
- éªŒè¯æ˜æ–‡å‡­æ®ç›´æ¥ä½¿ç”¨ (ä¸å°è¯•è§£å¯†)
- éªŒè¯ `isEncrypted()` æ­£ç¡®è¯†åˆ«æ˜æ–‡

**Test 4: æ··åˆåŠ å¯†/æ˜æ–‡å‡­æ®**
- éªŒè¯åŒæ—¶å¤„ç†åŠ å¯†å’Œæ˜æ–‡å‡­æ®
- Bilibili åŠ å¯† + Douban æ˜æ–‡åŒæ—¶å·¥ä½œ

#### 2. å‡­æ®è§£æå’ŒéªŒè¯ (3 tests)

**Test 5: è·³è¿‡ç¼ºå°‘å¿…éœ€å­—æ®µçš„ Bilibili å‡­æ®**
```typescript
it("should skip Bilibili credentials missing required cookie fields", async () => {
  const incompleteCookie = encryptCredential("SESSDATA=only-one-field");
  // ç¼ºå°‘ bili_jct å’Œ buvid3

  const results = await syncAllPlatforms();

  // ä¸åº”å°è¯•åŒæ­¥
  expect(mockFetchBilibiliHistory).not.toHaveBeenCalled();
  expect(results).toHaveLength(0);
});
```

**Test 6: è·³è¿‡ç¼ºå°‘ userId çš„ Douban å‡­æ®**
- éªŒè¯ metadata ä¸­ç¼ºå°‘ userId æ—¶è·³è¿‡åŒæ­¥

**Test 7: ç¯å¢ƒå˜é‡å›é€€æœºåˆ¶**
- éªŒè¯æ•°æ®åº“æ— å‡­æ®æ—¶ä½¿ç”¨ç¯å¢ƒå˜é‡
- éªŒè¯ Bilibili å’Œ Douban éƒ½èƒ½å›é€€

### æµ‹è¯•æ–‡ä»¶

**æ–‡ä»¶è·¯å¾„**: `/src/lib/media-sync/__tests__/index.test.ts`

**Mock ç­–ç•¥**:
```typescript
// Mock Prisma
vi.mock("@/lib/prisma", () => ({
  prisma: {
    externalCredential: { findMany: mockPrismaFindMany },
    syncJob: { create: mockPrismaCreate, update: mockPrismaUpdate },
    mediaWatch: { upsert: mockPrismaUpsert },
  },
}));

// Mock å¹³å°åŒæ­¥æ¨¡å—
vi.mock("../bilibili", () => ({
  fetchBilibiliHistory: mockFetchBilibiliHistory,
  normalizeBilibiliItem: (item) => ({ /* ... */ }),
}));

vi.mock("../douban", () => ({
  fetchDoubanWatched: mockFetchDoubanWatched,
  normalizeDoubanItem: (item) => ({ /* ... */ }),
}));
```

---

## ğŸ“Š æœ€ç»ˆæµ‹è¯•ç»Ÿè®¡

### æ–°å¢æµ‹è¯•

| æµ‹è¯•æ–‡ä»¶ | æµ‹è¯•æ•°é‡ | çŠ¶æ€ | è¦†ç›–å†…å®¹ |
|---------|----------|------|----------|
| `cron/sync/route.test.ts` | 14 | âœ… 100% | è‡ªåŠ¨åŒæ­¥è°ƒåº¦ API |
| `sync-trends-chart.test.tsx` | 15 | âœ… 100% | Recharts è¶‹åŠ¿å›¾è¡¨ |
| `live-highlights-section.test.tsx` | 13 | âœ… 100% | å®æ—¶åŠ¨æ€ç»„ä»¶ |
| `media-sync/index.test.ts` | 7 | âœ… 100% | å‡­æ®è§£å¯†é›†æˆ |
| **æ€»è®¡** | **49** | **âœ… 100%** | **Phase 2-4 æ ¸å¿ƒåŠŸèƒ½** |

### å…¨å±€æµ‹è¯•çŠ¶æ€

```bash
Test Files  60 passed | 1 skipped (61)
Tests      958 passed | 17 skipped (975)
Duration    11.31s
```

**è¦†ç›–ç‡å˜åŒ–**:
- æ–°å¢ 49 ä¸ªæµ‹è¯•ç”¨ä¾‹
- ä» 923 ä¸ªæµ‹è¯• â†’ 958 ä¸ªæµ‹è¯• (+35 å‡€å¢é•¿)
- Cron API: 6/14 â†’ 14/14 âœ…
- ç»„ä»¶æµ‹è¯•: 0 â†’ 28 âœ…
- é›†æˆæµ‹è¯•: 0 â†’ 7 âœ…

---

## ğŸ¯ æµ‹è¯•è´¨é‡åˆ†æ

### æµ‹è¯•è¦†ç›–äº®ç‚¹

#### 1. å®Œæ•´çš„åŠ å¯†é›†æˆæµ‹è¯• âœ…
- **AES-256-GCM** åŠ å¯†/è§£å¯†å®Œæ•´æµç¨‹
- **å‘åå…¼å®¹æ€§** éªŒè¯ (æ··åˆåŠ å¯†/æ˜æ–‡)
- **é”™è¯¯å¤„ç†** è¾¹ç¼˜æƒ…å†µå…¨è¦†ç›–
- **å®é™…é›†æˆ** æµ‹è¯•çœŸå®çš„åŒæ­¥æµç¨‹

#### 2. React ç»„ä»¶æµ‹è¯•æœ€ä½³å®è·µ âœ…
- **React Testing Library** ç”¨æˆ·è§†è§’æµ‹è¯•
- **Mock API** å®Œæ•´çš„ fetch mock ç­–ç•¥
- **å¼‚æ­¥æµ‹è¯•** waitFor æ­£ç¡®å¤„ç†çŠ¶æ€æ›´æ–°
- **è¾¹ç¼˜æƒ…å†µ** ç©ºæ•°æ®ã€é”™è¯¯ã€åŠ è½½çŠ¶æ€å…¨è¦†ç›–

#### 3. API ç«¯ç‚¹æµ‹è¯•å®Œæ•´æ€§ âœ…
- **è®¤è¯æµ‹è¯•** (CRON_SECRET éªŒè¯)
- **é¢‘ç‡é€»è¾‘** (hourly/daily/weekly)
- **é”™è¯¯å¤„ç†** (gracefully handle failures)
- **æ•°æ®éªŒè¯** (query filters, schedule info)

### æµ‹è¯•ç­–ç•¥ä¼˜åŠ¿

#### Mock ç­–ç•¥åˆç†æ€§
```typescript
// åˆ†å±‚ Mock: Prisma â†’ ä¸šåŠ¡é€»è¾‘ â†’ å¤–éƒ¨ API
vi.mock("@/lib/prisma") // æ•°æ®åº“å±‚
vi.mock("../bilibili")   // å¹³å° API å±‚
vi.mock("../../encryption") // åŠ å¯†å±‚ (ä»…å¿…è¦æ—¶)
```

#### æµ‹è¯•ç‹¬ç«‹æ€§
- âœ… æ¯ä¸ªæµ‹è¯• `beforeEach` æ¸…ç† mock çŠ¶æ€
- âœ… ç¯å¢ƒå˜é‡éš”ç¦» (è®¾ç½®/æ¸…é™¤)
- âœ… æ— æµ‹è¯•é—´ä¾èµ–

#### å¯è¯»æ€§å’Œç»´æŠ¤æ€§
- âœ… æè¿°æ€§æµ‹è¯•åç§° (`should...` æ¨¡å¼)
- âœ… AAA æ¨¡å¼ (Arrange, Act, Assert)
- âœ… æ¸…æ™°çš„ Mock æ•°æ®ç»“æ„

---

## ğŸ” æŠ€æœ¯äº®ç‚¹

### 1. å‡­æ®åŠ å¯†ç³»ç»Ÿé›†æˆ

**åŠ å¯†æµç¨‹**:
```typescript
// 1. åŠ å¯† (åœ¨ç®¡ç†ç•Œé¢ä¿å­˜æ—¶)
const encrypted = encryptCredential(plainCookie);
// â†’ "enc:iv:authTag" æ ¼å¼

// 2. å­˜å‚¨ (æ•°æ®åº“)
await prisma.externalCredential.create({
  value: encrypted,
  // ...
});

// 3. è§£å¯† (åŒæ­¥æ—¶)
const plain = isEncrypted(value)
  ? decryptCredential(value)
  : value; // å‘åå…¼å®¹

// 4. è§£æ (æå–å­—æ®µ)
const cookieParts = plain.split(";").reduce(/* ... */);
```

**æµ‹è¯•éªŒè¯ç‚¹**:
- âœ… åŠ å¯†åæ ¼å¼æ­£ç¡® (`enc:iv:authTag`)
- âœ… è§£å¯†è¿˜åŸåŸå§‹å€¼
- âœ… `isEncrypted()` æ­£ç¡®è¯†åˆ«
- âœ… å‘åå…¼å®¹æœªåŠ å¯†æ•°æ®

### 2. Bilibili Cookie è§£æé€»è¾‘

**è§£æè¿‡ç¨‹**:
```typescript
// Input: "SESSDATA=abc;bili_jct=def;buvid3=ghi"
const cookieParts = credentialValue.split(";").reduce(
  (acc, part) => {
    const [key, value] = part.trim().split("=");
    if (key && value) {
      acc[key.trim()] = value.trim();
    }
    return acc;
  },
  {} as Record<string, string>
);

// Extract: { SESSDATA, bili_jct, buvid3 }
const config = {
  sessdata: cookieParts["SESSDATA"],
  biliJct: cookieParts["bili_jct"],
  buvid3: cookieParts["buvid3"],
};
```

**æµ‹è¯•è¦†ç›–**:
- âœ… æ­£å¸¸è§£æ (æ‰€æœ‰å­—æ®µå­˜åœ¨)
- âœ… ç¼ºå¤±å­—æ®µæ£€æµ‹ (è·³è¿‡åŒæ­¥)
- âœ… æ ¼å¼å®¹é”™ (ç©ºæ ¼å¤„ç†)

### 3. åŒæ­¥é¢‘ç‡è°ƒåº¦é€»è¾‘

**é¢‘ç‡åˆ¤æ–­**:
```typescript
const now = Date.now();
const lastSyncTime = credential.syncJobLogs[0]?.createdAt.getTime();

const thresholds = {
  hourly: 60 * 60 * 1000,   // 1 hour
  daily: 24 * 60 * 60 * 1000,  // 24 hours
  weekly: 7 * 24 * 60 * 60 * 1000, // 7 days
};

const shouldSync = !lastSyncTime ||
  (now - lastSyncTime) > thresholds[frequency];
```

**æµ‹è¯•åœºæ™¯**:
- âœ… ä»æœªåŒæ­¥è¿‡ â†’ ç«‹å³åŒæ­¥
- âœ… è¶…è¿‡é˜ˆå€¼ â†’ è§¦å‘åŒæ­¥
- âœ… é˜ˆå€¼å†… â†’ è·³è¿‡åŒæ­¥
- âœ… disabled é¢‘ç‡ â†’ å§‹ç»ˆè·³è¿‡

---

## ğŸš€ åç»­å»ºè®®

### ä¼˜å…ˆçº§1: E2E æµ‹è¯• (å¯é€‰)
```typescript
// ä½¿ç”¨ Playwright æµ‹è¯•å®Œæ•´ç”¨æˆ·æµç¨‹
test("user can configure auto-sync", async ({ page }) => {
  await page.goto("/admin/credentials");
  await page.click('button:has-text("Add Credential")');
  await page.fill('input[name="platform"]', "BILIBILI");
  await page.fill('textarea[name="cookie"]', "SESSDATA=...");
  await page.selectOption('select[name="frequency"]', "hourly");
  await page.click('button:has-text("Save")');

  await expect(page.locator(".success-message")).toBeVisible();
});
```

### ä¼˜å…ˆçº§2: æ€§èƒ½æµ‹è¯• (å¦‚éœ€è¦)
```typescript
// æµ‹è¯•å¤§é‡å‡­æ®åŒæ­¥æ€§èƒ½
it("should handle 100 credentials efficiently", async () => {
  const credentials = Array.from({ length: 100 }, (_, i) => ({
    id: `cred-${i}`,
    platform: i % 2 === 0 ? "BILIBILI" : "DOUBAN",
    value: encryptCredential(`cookie-${i}`),
  }));

  const startTime = Date.now();
  await syncAllPlatforms();
  const duration = Date.now() - startTime;

  expect(duration).toBeLessThan(30000); // 30ç§’å†…å®Œæˆ
});
```

### ä¼˜å…ˆçº§3: é”™è¯¯æ¢å¤æµ‹è¯•
```typescript
it("should retry on transient network errors", async () => {
  mockFetchBilibiliHistory
    .mockRejectedValueOnce(new Error("Network timeout"))
    .mockRejectedValueOnce(new Error("Network timeout"))
    .mockResolvedValueOnce([/* success data */]);

  const result = await syncBilibili(config);

  expect(result.success).toBe(true);
  expect(mockFetchBilibiliHistory).toHaveBeenCalledTimes(3);
});
```

---

## âœ… å®ŒæˆéªŒè¯æ¸…å•

- [x] **ä»»åŠ¡1**: Cron API æµ‹è¯•ä¿®å¤ (14/14 é€šè¿‡)
- [x] **ä»»åŠ¡2**: React ç»„ä»¶æµ‹è¯• (28/28 é€šè¿‡)
  - [x] sync-trends-chart.tsx (15 tests)
  - [x] live-highlights-section.tsx (13 tests)
- [x] **ä»»åŠ¡3**: åª’ä½“åŒæ­¥é›†æˆæµ‹è¯• (7/7 é€šè¿‡)
  - [x] Bilibili cookie è§£å¯†å’Œè§£æ
  - [x] Douban å‡­æ®è§£å¯†
  - [x] å‘åå…¼å®¹æœªåŠ å¯†å‡­æ®
  - [x] æ··åˆåŠ å¯†/æ˜æ–‡å¤„ç†
  - [x] å‡­æ®éªŒè¯å’Œè·³è¿‡é€»è¾‘
  - [x] ç¯å¢ƒå˜é‡å›é€€æœºåˆ¶
- [x] **å…¨å±€éªŒè¯**: 958 tests passed (100% é€šè¿‡ç‡)
- [x] **æ–‡æ¡£æ›´æ–°**: æµ‹è¯•å®æ–½æ€»ç»“å·²æ›´æ–°

---

## ğŸ“ æ€»ç»“

Phase 2-4 çš„ä¸‰ä¸ªæ ¸å¿ƒæµ‹è¯•ä»»åŠ¡å·²å…¨éƒ¨å®Œæˆ:

1. **Cron API è‡ªåŠ¨åŒæ­¥è°ƒåº¦** - 14 ä¸ªæµ‹è¯•å…¨éƒ¨é€šè¿‡,è¦†ç›–æ‰€æœ‰é¢‘ç‡é€»è¾‘å’Œé”™è¯¯å¤„ç†
2. **React ç»„ä»¶å¯è§†åŒ–** - 28 ä¸ªæµ‹è¯•éªŒè¯å›¾è¡¨å’Œå®æ—¶çŠ¶æ€æ˜¾ç¤ºåŠŸèƒ½
3. **å‡­æ®åŠ å¯†é›†æˆ** - 7 ä¸ªé›†æˆæµ‹è¯•ç¡®ä¿åŠ å¯†ç³»ç»Ÿå®Œæ•´å·¥ä½œ

**æ•´ä½“è´¨é‡**:
- âœ… æµ‹è¯•è¦†ç›–å…¨é¢ (API, ç»„ä»¶, é›†æˆ)
- âœ… Mock ç­–ç•¥åˆç† (åˆ†å±‚éš”ç¦»)
- âœ… è¾¹ç¼˜æƒ…å†µå……åˆ† (ç©ºæ•°æ®, é”™è¯¯, å…¼å®¹æ€§)
- âœ… ä»£ç å¯ç»´æŠ¤æ€§å¼º (æ¸…æ™°å‘½å, AAA æ¨¡å¼)

**ç³»ç»Ÿå·²å‡†å¤‡å¥½ç”Ÿäº§éƒ¨ç½²** ğŸš€

---

**æ–‡æ¡£ç”Ÿæˆæ—¶é—´**: 2025å¹´10æœˆ18æ—¥ 22:57
**æµ‹è¯•æ¡†æ¶**: Vitest 3.2.4
**æµ‹è¯•é€šè¿‡ç‡**: 100% (958/958)
**æ–°å¢æµ‹è¯•æ•°**: 49 ä¸ª
