# 强制要求 Node 版本匹配 package.json 的 engines 字段
engine-strict=true

# 使用精确版本（=）而非 ^ 或 ~，确保跨机器依赖版本一致
save-exact=true

# pnpm 特定配置
# 自动安装 peer dependencies
auto-install-peers=true
# 解决 peer dependency 冲突时的策略
strict-peer-dependencies=false

# 允许特定包运行构建脚本 (pnpm v10+ 安全特性)
# 这些是需要原生编译的依赖
onlyBuiltDependencies[]=@prisma/client
onlyBuiltDependencies[]=@prisma/engines
onlyBuiltDependencies[]=bcrypt
onlyBuiltDependencies[]=esbuild
onlyBuiltDependencies[]=prisma
onlyBuiltDependencies[]=sharp
onlyBuiltDependencies[]=unrs-resolver

# 加快安装速度：使用国内镜像（可选，根据网络情况调整）
# registry=https://registry.npmmirror.com
